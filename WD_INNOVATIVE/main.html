<!DOCTYPE html>
<html>
<head>
	 <meta charset="UTF-8"> 
	<title>musical Arena</title>
	<script type="text/javascript" src="/eel.js"></script>
	<link rel="stylesheet" type="text/css" href="header.css">
	<link rel="stylesheet" type="text/css" href="background.css">
	<link rel="stylesheet" type="text/css" href="player.css">
	<style>
	body{
		margin: 0;
	}
	</style>
</head>



<body>
	<br><br><br><br><br>
	<div id="first">
		<h1 font-family="verdana" align="center" style="font-size: 40px;color: white;margin: 0;">Music Player<h1>
		</div>
	<!--<div id="second" class="second">

		<button onclick="myFunction()">
	</div>
	-->

	<script src="code.js"></script>

		<div id="queue"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queue<input type="button" id="next" onclick="nextsong()"><hr></div>

		<div>
			<button id="startBtn" onclick="openCam()">Open Webcam</button>
			<video id="videoCam" style="position: absolute;left: 0;top: 0;"></video>
		</div>

		<div>
			<img id="captured_image" src="../main0.jpg" alt="image" />
		</div>

	<div id="third">
		<div id="emoji"></div>
		<div id="xyz">
		&nbsp;&nbsp;&nbsp;Playing :&nbsp;&nbsp;
		<label id="sname" align="center">none</label></div>
		<div id="mod">mode : Queue-mode <input type="radio" name="mode" checked="checked" onclick="setmod(this)" value="1"> &nbsp;&nbsp;Emotion-mode <input type="radio" name="mode" onclick="setmod(this)" value="2"> &nbsp;&nbsp;Random-mode 
			<input type="radio" name="mode" onclick="setmod(this)" value="3"></div>
		<audio controls id="main_slider">
  		<source id="sel"  type="audio/mpeg">
Your browser does not support the audio element.
		</audio>

		<script>
	document.getElementById("main_slider").onended=function(){
		if(mod==1)
			next_in_Q();
		else if(mod==2){
			getTime();
		}
		else
			rand_play();

	};

		function openCam(){
			let All_mediaDevices=navigator.mediaDevices
			if (!All_mediaDevices || !All_mediaDevices.getUserMedia) {
				console.log("getUserMedia() not supported.");
				return;
			}
			All_mediaDevices.getUserMedia({
				audio: true,
				video: true
			})
			.then(function(vidStream) {
				var video = document.getElementById('videoCam');
				if ("srcObject" in video) {
					video.srcObject = vidStream;
				} else {
					video.src = window.URL.createObjectURL(vidStream);
				}
				video.onloadedmetadata = function(e) {
					video.play();
				};
			})
			.catch(function(e) {
				console.log(e.name + ": " + e.message);
			});
		}
		</script>
		</div>
		</body>
</html>